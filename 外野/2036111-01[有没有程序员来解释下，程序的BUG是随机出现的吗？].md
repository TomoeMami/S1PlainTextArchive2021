

*****

####  二饼  
##### 1#       楼主       发表于 2021-11-6 17:30

世界上不存在完美的程序，是指出现BUG是自然规律，还是说只是因为人类的力量不够强大呢？

*****

####  SICP  
##### 2#       发表于 2021-11-6 17:32

1. 浏览器输入[https://www.google.com](https://www.google.com)
2. 在空白处输入 完美的程序
3. 把前130页结果看完，你就能得到答案

如果[https://www.google.com无法访问](https://www.google.com无法访问)，可以访问[https://cn.bing.com](https://cn.bing.com)

*****

####  renious  
##### 3#       发表于 2021-11-6 17:32

什么叫完美？

—— 来自 Xiaomi Redmi K20 Pro Premium Edition, Android 10上的 [S1Next-鹅版](https://github.com/ykrank/S1-Next/releases) v2.5.2

*****

####  破罐子  
##### 4#       发表于 2021-11-6 17:35

预言中有那么一个人，能把我们从bug中解放出来。

—— 来自 Xiaomi M2007J3SC, Android 10上的 [S1Next-鹅版](https://github.com/ykrank/S1-Next/releases) v2.5.2

*****

####  Amadeuszhao  
##### 5#       发表于 2021-11-6 17:36

误差按其性质和产生原因，可分为系统误差、随机误差和过失误差。

（1）系统误差：又称可测误差、恒定误差或偏倚。指测量值的总体均值与真值之间的差别，是由测量过程中某些恒定因素造成的，在一定条件下具有重现性，并不因增加测量次数而减少系统误差，它的产生可以是方法、仪器、试剂、恒定的操作人员和恒定的环境所造成.

（2）随机误差：又称偶然误差或不可测误差。是由测定过程中各种随机因素的共同作用所造成，随机误差遵从正态分布规律。

（3）过失误差：又称粗差。是由测量过程中犯了不应有的错误所造成，它明显地歪曲测量结果，因而一经发现必须及时改正。

*****

####  Dreki  
##### 6#       发表于 2021-11-6 17:37

写代码写出中二病了？

*****

####  BRRM  
##### 7#       发表于 2021-11-6 17:37

你这个问题过于笼统了，先定义下bug，才能谈完美不完美。

*****

####  二饼  
##### 8#         楼主| 发表于 2021-11-6 17:38

<blockquote><a href="httphttps://bbs.saraba1st.com/2b/forum.php?mod=redirect&amp;goto=findpost&amp;pid=53439814&amp;ptid=2036111" target="_blank">renious 发表于 2021-11-6 17:32</a>

什么叫完美？

—— 来自 Xiaomi Redmi K20 Pro Premium Edition, Android 10上的 S1Next-鹅版 v2.5.2 ...</blockquote>
就是没有bug的程序

*****

####  Ik4ruga  
##### 9#       发表于 2021-11-6 17:39

非形式谬误之没有真正的英格兰人

*****

####  kll85757  
##### 10#       发表于 2021-11-6 17:40

有写程序的人自己犯的错误，也有他所用的技术本身的缺陷，现在我们绝大部分人写代码都是在别人建的地基上继续盖楼，那些找不出原因的奇怪问题多半是之前的人犯的错误

*****

####  二饼  
##### 11#         楼主| 发表于 2021-11-6 17:40

<blockquote><a href="httphttps://bbs.saraba1st.com/2b/forum.php?mod=redirect&amp;goto=findpost&amp;pid=53439842&amp;ptid=2036111" target="_blank">BRRM 发表于 2021-11-6 17:37</a>

你这个问题过于笼统了，先定义下bug，才能谈完美不完美。</blockquote>
这样吧，一个程序能连续执行1万年不出现任何问题。

*****

####  leakleak  
##### 12#       发表于 2021-11-6 17:42

楼主根本不知道bug是什么，还运行一万年……

—— 来自 Xiaomi 21051182C, Android 11上的 [S1Next-鹅版](https://github.com/ykrank/S1-Next/releases) v2.5.2

*****

####  leakleak  
##### 13#       发表于 2021-11-6 17:43

跑一万年的测试数据，那肯定不会出软件bug，只会硬件故障

—— 来自 Xiaomi 21051182C, Android 11上的 [S1Next-鹅版](https://github.com/ykrank/S1-Next/releases) v2.5.2

*****

####  幻想风靡_  
##### 14#       发表于 2021-11-6 17:45

程序和bug都是可以复现的

你在同一环境下能运行一次，那运行一万次理论上也是没问题的

bug这个概念太大了，不太好一概而论

*****

####  车欠  
##### 15#       发表于 2021-11-6 17:45

人的思维逻辑还是会有缺陷的。加班越多越迷糊，bug越多。<img src="https://static.saraba1st.com/image/smiley/face2017/067.png" referrerpolicy="no-referrer">

—— 来自 OnePlus KB2000, Android 11上的 [S1Next-鹅版](https://github.com/ykrank/S1-Next/releases) v2.5.2

*****

####  CubicRiver  
##### 16#       发表于 2021-11-6 17:46

你可以写一个最简单的程序，就输出一个字符，其他什么都不做，你要是信不过编译器，可以直接写机器码，就算这样，你也保不齐它运行一万年会不会出错，但在程序逻辑上它已经是完美了

*****

####  BRRM  
##### 17#       发表于 2021-11-6 17:47

<blockquote><a href="httphttps://bbs.saraba1st.com/2b/forum.php?mod=redirect&amp;goto=findpost&amp;pid=53439888&amp;ptid=2036111" target="_blank">二饼 发表于 2021-11-6 17:40</a>

这样吧，一个程序能连续执行1万年不出现任何问题。</blockquote>
<img src="https://static.saraba1st.com/image/smiley/face2017/068.png" referrerpolicy="no-referrer">如果你这样定义的话，那只能说这个问题太没水平了，回答了也没什么意义。

从逻辑上来说（不考虑辐射对电子设备的影响），连续执行1万年不出错的程序数不胜数，无论是谁都能写得出来，包括一个刚学了2天的新手。

*****

####  tiro_finale  
##### 18#       发表于 2021-11-6 17:48

确实感觉楼主没明白bug是什么，bug又不是什么神秘的自然现象，就是一些设计者没考虑到的情况以及单纯搞错了罢了

*****

####  blueflames001  
##### 19#       发表于 2021-11-6 17:49

不是BUG只是计算机语言有他自己的想法。以后写程序可以放两个咬过的苹果取悦机魂

*****

####  Ik4ruga  
##### 20#       发表于 2021-11-6 17:49

<blockquote><a href="httphttps://bbs.saraba1st.com/2b/forum.php?mod=redirect&amp;goto=findpost&amp;pid=53439888&amp;ptid=2036111" target="_blank">二饼 发表于 2021-11-6 17:40</a>
 这样吧，一个程序能连续执行1万年不出现任何问题。</blockquote>
dna都做不到复制遗传不出差错
人造的东西，根据历史来看，我们还不能验证任何人造程序能运行1w年不出差错——毕竟我们都还没有1w年历史

*****

####  二饼  
##### 21#         楼主| 发表于 2021-11-6 17:51

<blockquote><a href="httphttps://bbs.saraba1st.com/2b/forum.php?mod=redirect&amp;goto=findpost&amp;pid=53439977&amp;ptid=2036111" target="_blank">BRRM 发表于 2021-11-6 17:47</a>

如果你这样定义的话，那只能说这个问题太没水平了，回答了也没什么意义。

从逻辑上来说（不考虑 ...</blockquote>
我理解了，如果没有人工干预，一般是不会出bug吧<img src="https://static.saraba1st.com/image/smiley/face2017/068.png" referrerpolicy="no-referrer">

*****

####  EverNight  
##### 22#       发表于 2021-11-6 17:52

<blockquote><a href="httphttps://bbs.saraba1st.com/2b/forum.php?mod=redirect&amp;goto=findpost&amp;pid=53439951&amp;ptid=2036111" target="_blank">幻想风靡_ 发表于 2021-11-6 17:45</a>
程序和bug都是可以复现的

你在同一环境下能运行一次，那运行一万次理论上也是没问题的

bug这个概念太大了， ...</blockquote>
艹，我昨天看了个bug，惊为天人<img src="https://static.saraba1st.com/image/smiley/face2017/067.png" referrerpolicy="no-referrer">
运行成功一千次也不能保证下一次没问题

你见过的最差的程序员是怎样的？ - 甲鱼的回答 - 知乎 https://www.zhihu.com/question/31236086/answer/2120633926

—— 来自 OnePlus ONEPLUS A6010, Android 11上的 [S1Next-鹅版](https://github.com/ykrank/S1-Next/releases) v2.5.2

*****

####  看脸  
##### 23#       发表于 2021-11-6 17:52

有人觉得程序是严格按理论跑的，但程序是跑在现实世界这个千疮百孔充满干扰的物理环境中的<img src="https://static.saraba1st.com/image/smiley/face2017/067.png" referrerpolicy="no-referrer">所以理论的理论上来说，程序根本没BUG，只不过是被现实干扰产生的涟漪，干扰不是人为就是天命

*****

####  ahyyk  
##### 24#       发表于 2021-11-6 17:57

一个程序连续运行1万年，和有没有bug是两回事。

可以写个计算器，你输入两个数字就给你算加法。不考虑硬件运行环境，当然可以运行1W年。但也能1+2给你算出来4，这也是bug。

lz说的bug，大概是自己想象的bug，而不是大家通常认知的bug。

*****

####  beater  
##### 25#       发表于 2021-11-6 17:58

 本帖最后由 beater 于 2021-11-6 18:03 编辑 

对于这种垃圾问题，我已经摸索出了一套终极的答案：

bug的本质是“需求没有得到满足”。

老练的开发永远不会说自己的程序是没有bug的，因为他面对的是迭代的需求。

而辨别一个问题是否是bug，主要依据是其未满足的需求是否合理。

*****

####  24k纯帅  
##### 26#       发表于 2021-11-6 17:59

一般也就修修能复现的问题，太神秘的也没办法查

*****

####  カドモン  
##### 27#       发表于 2021-11-6 17:59

<blockquote><a href="httphttps://bbs.saraba1st.com/2b/forum.php?mod=redirect&amp;goto=findpost&amp;pid=53440046&amp;ptid=2036111" target="_blank">EverNight 发表于 2021-11-6 17:52</a>

艹，我昨天看了个bug，惊为天人

运行成功一千次也不能保证下一次没问题</blockquote>
这个搞个递增取数组其实没问题吧。。。 

我姑且就当他是提前申请内存，避免操作内存影响性能了（

*****

####  纸化千风  
##### 28#       发表于 2021-11-6 18:10

bug就像你写作文给别人读一样，你中间字可能写错和不清楚，别人看到或许可以联系上下文猜出来也有可能读不下去。你要能工工整整写字，bug也就少了。

*****

####  ahyyk  
##### 29#       发表于 2021-11-6 18:11

<blockquote><a href="httphttps://bbs.saraba1st.com/2b/forum.php?mod=redirect&amp;goto=findpost&amp;pid=53440136&amp;ptid=2036111" target="_blank">カドモン 发表于 2021-11-6 17:59</a>

这个搞个递增取数组其实没问题吧。。。 

我姑且就当他是提前申请内存，避免操作内存影响性能了（ ...</blockquote>
其它槽点不说也罢

单说这个弄个递增也就罢了，弄个随机，很难让人相信，这丫不是来搞事的啊。

*****

####  r_ex  
##### 30#       发表于 2021-11-6 18:12

 本帖最后由 r_ex 于 2021-11-6 18:14 编辑 

本质上是一个复杂性的问题

1)首先是需求的歧义性。要没有bug，首先需要能区分什么是bug、什么不是bug，也就是将自然语言转化为形式语言。学习一下形式逻辑，就会发现这是个大坑。所以现在的主流实践就是用自然语言写需求，定一些边界，具体实现由程序员和机器发挥。但这必然造成歧义，就出现一些原始需求描述者认为是bug的问题，但程序员或机器并不这么认为。而且需求写出来可能自相矛盾。(一个简单的例子，设计一个计算器程序，如果需求说明书中没有指定除以0时的行为，那么可能实现结果是除以0时崩溃，这个结果明显符合需求说明书，但可能不符合需求书写者心中的标准；另外一个例子，要画一条曲线，需求书写者指定了若干个点要求曲线一定要经过，理论上直接一个高次多项式就能经过所有的点，但是需求书写者可能想要的是一个低次的多项式)

2)其次是实现不符合需求说明。代码之间互相具有联系，且写代码的时候写错是不可避免的。假设出错的概率是固定的，一个优秀的构架(非常平衡的树状依赖)，也会随着代码的规模拥有2次的问题(每个模块影响自己和依赖它的模块)。目前有一些通过证明的方式来解决这个问题的努力，但是由于"需求的歧义性"，要证明的结果本身也有这个随着代码的规模2次或者更快速度出现更多错误的趋势，因此只能解决非常有限规模下的问题

要减少bug，目前来看，只有两个方法有效果

1)减小代码的规模。"No code is the best way to write secure and reliable applications. Write nothing; deploy nowhere."

2)减小代码之间的联系，也就是模块化。

﹍﹍﹍

评分

 参与人数 1战斗力 +1

|昵称|战斗力|理由|
|----|---|---|
| remussn| + 1|好评加鹅|

查看全部评分



*****

####  i0ncuBe  
##### 31#       发表于 2021-11-6 18:14

有逻辑上的错误，有设计模式上的错误，有物理规律导致的软硬失效

*****

####  ZzzYyy  
##### 32#       发表于 2021-11-6 18:18

以前写过一个随机小游戏，通过随机数决定接下来发生什么事，比如有A、B、C，3类，出A就进A事件，然后A底下还有A、B、C等等，一直筛出一个具体的，结果测试的时候发现，有时会出现一类事件被进入两次的情况。

我当时对这结果百思不得其解，因为整个程序就是很简单的IF,ELSE分支。后来几个小时才发现，ROLL这个关键变量在两层结构中用了一个变量名。。。结果有些事件还没ROLL，就占用了之前ROLL出来的结果，然后就出现这个问题了，后来换了名字就好了。。。瞎写就容易出这种BUG。

*****

####  iamu  
##### 33#       发表于 2021-11-6 18:21

不是

*****

####  ahyyk  
##### 34#       发表于 2021-11-6 18:26

想了一下，可能lz把程序员这玩意看得太高大上了

基本上可以说，你在用的所有软件都有bug，而bug的原因，绝大多数都是因为代码本身就有问题。

逻辑考虑不周，边界意外情况，写代码手抖之类的。基本轮不到啥随机性。可以说，你想要的无bug程序超出了程序员的能力范围，哪怕年薪几百万的程序员都一样。

说的是正常软件

*****

####  zayrq  
##### 35#       发表于 2021-11-6 18:26

bug跟需求是一一对应的关系。。。不存在没有bug的程序，因为需求会一直变化

*****

####  云卷花开  
##### 36#       发表于 2021-11-6 18:27

<img src="https://static.saraba1st.com/image/smiley/face2017/037.png" referrerpolicy="no-referrer">哪怕形式验证或的代码也可能无法正常运行，因为硬件始终是不可靠的

*****

####  71888675  
##### 37#       发表于 2021-11-6 18:34

笼统来说，bug就是程序运行的结果在开发者期望之外<img src="https://static.saraba1st.com/image/smiley/face2017/067.png" referrerpolicy="no-referrer">
Bu**生的绝大部分原因都可以归结为人力有穷<img src="https://static.saraba1st.com/image/smiley/face2017/067.png" referrerpolicy="no-referrer">

—— 来自 [S1Fun](https://s1fun.koalcat.com)

*****

####  联合警备队  
##### 38#       发表于 2021-11-6 18:37

昨天发现一个低级bug，没有return。问题是程序能完美按照设计意图运行
把他修复了也没啥影响
只能猜测是编译器自动优化了<img src="https://static.saraba1st.com/image/smiley/face2017/001.png" referrerpolicy="no-referrer">

*****

####  春目漱口  
##### 39#       发表于 2021-11-6 18:40

bug是你自己写出来的，只是可能你当时写的时候没意识到<img src="https://static.saraba1st.com/image/smiley/face2017/065.png" referrerpolicy="no-referrer">

*****

####  bigming000  
##### 40#       发表于 2021-11-6 18:48

电脑硬件的组成原理就注定有bug，编译环境也有bug，运行环境和写的过程中更容易出bug。
你在自己的机器上运行helloworld一万次可以不出bug，这能叫完美的程序吗？

—— 来自 [S1Fun](https://s1fun.koalcat.com)

*****

####  sykeash  
##### 41#       发表于 2021-11-6 18:53

人类是自然的一部分

*****

####  深海中的猫  
##### 42#       发表于 2021-11-6 18:58

本质是因为人类很难一次性考虑到所有可能的情况，所以反映人思考逻辑的程序在遇到意外情况时会做什么就不确定了。如果你全知很显然就不会有bug。

*****

####  henvelleng  
##### 43#       发表于 2021-11-6 19:02

举个例子说吧，我们首先排除掉手残脑残写出来的低级bug，这种没有讨论价值，我们就随便找几个库函数看一下它们的手册，往往能看到运行结果为“undefined”的说明，意思是你超出了该库函数使用的限定条件，那么结果就不可知。

所有的程序都有输入条件和使用场景的限定条件，超出限定条件，结果就是“undefined”，没人知道结果是什么，因为没考虑过。为什么要这么设计？因为没有必要考虑这些情况，一来是出于性能上的考虑，二来是出于复杂度上的考虑。

这就好比民用的汽车需要有防弹性能吗？不需要，只有特种型号才需要考虑

每一个模块每一个函数每一个类都有它们运行的限定条件，所以一旦出现预想以外的情况，你认为的bug就产生了

—— 来自 Xiaomi Mi 10 Pro, Android 11上的 [S1Next-鹅版](https://github.com/ykrank/S1-Next/releases) v2.5.2

*****

####  该用户不存在  
##### 44#       发表于 2021-11-6 19:34

<blockquote><a href="httphttps://bbs.saraba1st.com/2b/forum.php?mod=redirect&amp;goto=findpost&amp;pid=53439888&amp;ptid=2036111" target="_blank">二饼 发表于 2021-11-6 17:40</a>

这样吧，一个程序能连续执行1万年不出现任何问题。</blockquote>
python的程序:

print("傻逼")

这一行能执行到宇宙毁灭，或运行载体损坏<img src="https://static.saraba1st.com/image/smiley/face2017/245.png" referrerpolicy="no-referrer">

*****

####  Sacross  
##### 45#       发表于 2021-11-6 19:38

啥都不干的程序也是程序

正常的处理出和设计者想的不同的结果也是bug

—— 来自 OnePlus IN2020, Android 11上的 [S1Next-鹅版](https://github.com/ykrank/S1-Next/releases) v2.5.2

*****

####  recolic  
##### 46#       发表于 2021-11-6 19:40

没有bug的意思是没有被发现的bug

*****

####  voluspa  
##### 47#       发表于 2021-11-6 19:48

<blockquote><a href="httphttps://bbs.saraba1st.com/2b/forum.php?mod=redirect&amp;goto=findpost&amp;pid=53439888&amp;ptid=2036111" target="_blank">二饼 发表于 2021-11-6 17:40</a>

这样吧，一个程序能连续执行1万年不出现任何问题。</blockquote>
hello world.

要坏就是硬件的问题

*****

####  Mocilol  
##### 48#       发表于 2021-11-6 20:15

<blockquote><a href="httphttps://bbs.saraba1st.com/2b/forum.php?mod=redirect&amp;goto=findpost&amp;pid=53440040&amp;ptid=2036111" target="_blank">二饼 发表于 2021-11-6 17:51</a>

我理解了，如果没有人工干预，一般是不会出bug吧</blockquote>
我敢肯定人类大脑的程序就有不少bug

*****

####  oyss  
##### 49#       发表于 2021-11-6 20:33

<blockquote><a href="httphttps://bbs.saraba1st.com/2b/forum.php?mod=redirect&amp;goto=findpost&amp;pid=53440011&amp;ptid=2036111" target="_blank">Ik4ruga 发表于 2021-11-6 17:49</a>

dna都做不到复制遗传不出差错

人造的东西，根据历史来看，我们还不能验证任何人造程序能运行1w年不出差错 ...</blockquote>
其实可以.把环境时钟调快就是了.计算机不需要跟人按同样的时间刻度来运行.

至于你要验证硬件能不能撑1w年,那是硬件质量的事了.程序是没问题的.

*****

####  dovahkiin  
##### 50#       发表于 2021-11-6 20:35

po主的标题和内容正好充分诠释了为什么没有完美的程序，因为人类连自己的问题都没办法用严谨的定义表达出来。<img src="https://static.saraba1st.com/image/smiley/face2017/049.png" referrerpolicy="no-referrer">

*****

####  碧池团团子  
##### 51#       发表于 2021-11-6 20:49

这种东西要根据实际来看，你说拿个springboot框架去看servlet，那servlet就是个bug，没毛病

*****

####  zmj1316  
##### 52#       发表于 2021-11-6 21:21

在特定条件下，bug和feature是可以互相转换的，看需求是如何定义的了

*****

####  kinemato  
##### 53#       发表于 2021-11-6 21:36

伟大的魔法书中曾有教诲:"程序被写出来供人阅读, 偶尔交给计算机执行"

所以程序不是某种实体, 而是一种方法论, 是数学在物理世界的影子, 数学是如此完美, 以致它的影子也是完美的

但可惜机器不是<img src="https://static.saraba1st.com/image/smiley/face2017/067.png" referrerpolicy="no-referrer">

*****

####  cdy111222  
##### 54#       发表于 2021-11-6 21:41

服务器中键入sudo rm -rf/* 完美解决一切bug，永除后患

*****

####  咲蛍  
##### 55#       发表于 2021-11-6 21:45

只要用户和程序员想的是一样的，那就不会有bug<img src="https://static.saraba1st.com/image/smiley/face2017/009.gif" referrerpolicy="no-referrer">

*****

####  消亡值语义  
##### 56#       发表于 2021-11-6 21:50

看程序规模了，几千行的程序不太会有BUG

逻辑太复杂就会出现混沌，这是自然规律，热二

*****

####  塞斯克法  
##### 57#       发表于 2021-11-6 22:02

<blockquote><a href="httphttps://bbs.saraba1st.com/2b/forum.php?mod=redirect&amp;goto=findpost&amp;pid=53440557&amp;ptid=2036111" target="_blank">联合警备队 发表于 2021-11-6 18:37</a>
昨天发现一个低级bug，没有return。问题是程序能完美按照设计意图运行
把他修复了也没啥影响
只能猜测是编 ...</blockquote>
这个不算bug，大多数语言来说，方法返回不是void不加兜底的return编译器会直接报错无法编译，是void的话return可以省略，现代的编译器比起30年前做了很多擦屁股的活

— from Google Pixel 4a (5G), Android 11 of [S1 Next Goose](https://pan.baidu.com/s/1mi43uRm) v2.5.2

*****

####  联合警备队  
##### 58#       发表于 2021-11-6 22:15

<blockquote><a href="httphttps://bbs.saraba1st.com/2b/forum.php?mod=redirect&amp;goto=findpost&amp;pid=53443229&amp;ptid=2036111" target="_blank">塞斯克法 发表于 2021-11-6 22:02</a>
这个不算bug，大多数语言来说，方法返回不是void不加兜底的return编译器会直接报错无法编译，是void的话r ...</blockquote>
return double
外部调用根据返回值，执行不同的分支
测试时，完美通过
准备合到主干时才发现<img src="https://static.saraba1st.com/image/smiley/face2017/053.png" referrerpolicy="no-referrer">
编译器armcc

*****

####  玉米黍  
##### 59#       发表于 2021-11-6 22:16

有些人活着活着突然就抑郁了然后自杀了。

心理学上认为，抑郁既有遗传因素（硬件），也有自身心理因素（软件）。抑郁这种问题可以治疗但不可以治愈。

*****

####  KyonSuzumiya  
##### 60#       发表于 2021-11-6 22:19

严格来说不是随机的，只是因为人力（或材料）不能及。至于能不能用一个程序来排除一个程序的所有可能BUG（需要具备自举的性质），请百度“停机问题”。



*****

####  hollowd  
##### 61#       发表于 2021-11-6 22:23

bug的意思是缺陷，漏洞。

*****

####  松川奈々  
##### 62#       发表于 2021-11-6 22:28

我觉得你的问题就是个bug



*****

####  konata422  
##### 63#       发表于 2021-11-6 23:01

这句话的隐含前提是中等或者大规模的软件，或者说现在真的会去开发的软件，复杂性上去了人总会犯错误。

甚至你的程序片段足够短也很难说它没错误，编译器、操作系统、硬件部分依然复杂，对于应用程序员来说仍然是黑盒（或者灰盒）。而如果你不将这一堆复杂的部分考虑进去，又怎么能说自己的程序没错误呢？

举个简单的例子，由于浮点运算，大部分编程语言计算0.2*3并不等于0.6，而是0.6000000000000001，而0.2*3也不等于0.3*2。（当然这或许不应该称为bug）



*****

####  henvelleng  
##### 64#       发表于 2021-11-6 23:06

 本帖最后由 henvelleng 于 2021-11-6 23:18 编辑 
<blockquote><a href="httphttps://bbs.saraba1st.com/2b/forum.php?mod=redirect&amp;goto=findpost&amp;pid=53443405&amp;ptid=2036111" target="_blank">联合警备队 发表于 2021-11-6 22:15</a>

return double

外部调用根据返回值，执行不同的分支

测试时，完美通过</blockquote>
我记得无论是eabi还是oabi，函数的return值是直接扔在寄存器r0里的，如果没有写return，那么当时r0是什么值，函数的事实返回值就是什么值，很可能r0的值就取决于函数最后一次运算

*****

####  plusSharp  
##### 65#       发表于 2021-11-6 23:16

如果你学过软件测试，你就会知道即使是“判断三个数是否能构成三角形”这个简单的需求，要写成程序都非常困难。随便说两个问题：

1确保输入本身合理(至少要是整形或浮点数，而且不能超过类型范围）

2输入在数学上要有意义，不能是0或负数

*****

####  plusSharp  
##### 66#       发表于 2021-11-6 23:19

<blockquote><a href="httphttps://bbs.saraba1st.com/2b/forum.php?mod=redirect&amp;goto=findpost&amp;pid=53443922&amp;ptid=2036111" target="_blank">konata422 发表于 2021-11-6 23:01</a>

这句话的隐含前提是中等或者大规模的软件，或者说现在真的会去开发的软件，复杂性上去了人总会犯错误。

甚 ...</blockquote>
其实浮点数这个倒不算是致命问题，我一般会把条件写为 两浮点数差&lt;0.000001就认为是相等

*****

####  海底铁锚  
##### 67#       发表于 2021-11-6 23:21

持续一万年<img src="https://static.saraba1st.com/image/smiley/face2017/067.png" referrerpolicy="no-referrer">



*****

####  是音sama  
##### 68#       发表于 2021-11-6 23:45

最近在上新项目，完美符合一个词语 常遇常新 <img src="https://static.saraba1st.com/image/smiley/face2017/067.png" referrerpolicy="no-referrer">



*****

####  r_ex  
##### 69#       发表于 2021-11-6 23:52

<blockquote><a href="httphttps://bbs.saraba1st.com/2b/forum.php?mod=redirect&amp;goto=findpost&amp;pid=53444178&amp;ptid=2036111" target="_blank">plusSharp 发表于 2021-11-6 23:19</a>

其实浮点数这个倒不算是致命问题，我一般会把条件写为 两浮点数差</blockquote>
其实有的时候很要命，比如说

10000/(1+0.0000000000000001-1)

这种问题一般都不管的，成本太高了

*****

####  movegoon  
##### 70#       发表于 2021-11-7 00:00

bug就是一段程序不满足它的预定目的，

一般bug在边界条件时会出现，

比如，一个程序的目的是倒序输出它的输入字符，但是程序员写循环的时候，下标从1开始了，永远少了一个字符，但是它能运行并且输出结果。



*****

####  plusSharp  
##### 71#       发表于 2021-11-7 00:13

<blockquote><a href="httphttps://bbs.saraba1st.com/2b/forum.php?mod=redirect&amp;goto=findpost&amp;pid=53444476&amp;ptid=2036111" target="_blank">r_ex 发表于 2021-11-6 23:52</a>

其实有的时候很要命，比如说

10000/(1+0.0000000000000001-1)

这种问题一般都不管的，成本太高了 ...</blockquote>
这个我感觉问题不在+1-1上，因为即使直接写成10000/0.0000000000001精度也会产生一定影响， 10000/(1+0.000001-0.000001)这种就更反直觉一些

*****

####  r_ex  
##### 72#       发表于 2021-11-7 00:23

<blockquote><a href="httphttps://bbs.saraba1st.com/2b/forum.php?mod=redirect&amp;goto=findpost&amp;pid=53444802&amp;ptid=2036111" target="_blank">plusSharp 发表于 2021-11-7 00:13</a>

这个我感觉问题不在+1-1上，因为即使直接写成10000/0.0000000000001精度也会产生一定影响， 10000/(1+0.0 ...</blockquote>
主要是在64位浮点数的计算中，1+0.0000000000000001-1=0



*****

####  plusSharp  
##### 73#       发表于 2021-11-7 00:35

<blockquote><a href="httphttps://bbs.saraba1st.com/2b/forum.php?mod=redirect&amp;goto=findpost&amp;pid=53444935&amp;ptid=2036111" target="_blank">r_ex 发表于 2021-11-7 00:23</a>

主要是在64位浮点数的计算中，1+0.0000000000000001-1=0</blockquote>
仔细一看小数点后有15个0一个1，导致加1以后双精度有效位数不够，到这一步就已经出错了，再减一就会继续错，但我不确定具体结果是不是0



*****

####  赛肯特布拉泽  
##### 74#       发表于 2021-11-7 01:19

思而不学则殆

[  -- 来自 能搜索的 Stage1官方 Android客户端](https://www.coolapk.com/apk/140634)



*****

####  云卷花开  
##### 75#       发表于 2021-11-7 02:32

<blockquote><a href="httphttps://bbs.saraba1st.com/2b/forum.php?mod=redirect&amp;goto=findpost&amp;pid=53440557&amp;ptid=2036111" target="_blank">联合警备队 发表于 2021-11-6 18:37</a>
昨天发现一个低级bug，没有return。问题是程序能完美按照设计意图运行
把他修复了也没啥影响
只能猜测是编 ...</blockquote>
<img src="https://static.saraba1st.com/image/smiley/face2017/037.png" referrerpolicy="no-referrer">gunc在没有return的情况下会自动给你return 0的，就为了让int main这个行为一致。挺扯淡的

*****

####  NeloAngelo  
##### 76#       发表于 2021-11-7 02:33

因为人的思维有局限，因为情况在不停变。

—— 来自 [S1Fun](https://s1fun.koalcat.com)

*****

####  节操丢失  
##### 77#       发表于 2021-11-7 03:48

不是随机的，只是现在的整个计算机体系已经很复杂了，哪怕是一个最简单的APP也是建立在大量的第三方库、开发框架和运行时环境上的，再往下还有操作系统、编译器、驱动程序等，以上任意一个环节都可能出bug，甚至连cpu本身都可能有bug。而且以上这些东西还是由不同国家不同公司的人来开发的，作为一个普通开发人员根本考虑不到这么多东西，所以想彻底解决bug是不可能的

*****

####  autapomorphy  
##### 78#       发表于 2021-11-7 04:33

bug本质是人制造的复杂系统里的缺陷

实际上都是有理可循的

但系统够复杂的时候，很多事情就只能理解为随机了

*****

####  zyuco  
##### 79#       发表于 2021-11-7 05:20

来自两个方面：

一是钱、开发时间、开发质量的不可能三角，程序员也是人。

二是这个世界的随机本质，就算代码本身没有bug，硬件也是有“bug”的，下至电脑旁边有人放青藏高原导致磁盘共振数据读取出错，上至辐射射线导致寄存器比特位翻转，总有一款错误属于你



*****

####  lokomotiv  
##### 80#       发表于 2021-11-7 06:18

越简单的程序越不容易出bug

—— 来自 Xiaomi MI 8 SE, Android 9上的 [S1Next-鹅版](https://github.com/ykrank/S1-Next/releases) v2.5.2



*****

####  henvelleng  
##### 81#       发表于 2021-11-7 09:01

再说一句，其实搞过单片机的都知道，硬件本身有bug也是很正常的，这里并不是指外部电磁场干扰，硬件上可以做外壳屏蔽，而且有看门狗复位，这里的硬件bug指的是soc里的某模块或者cpu的协处理器甚至cpu本身在设计的时候留下的bug。硬件设计有bug其实一点都不稀奇，最常见的大家普遍都知道的比如stm32的iic模块

—— 来自 Xiaomi Mi 10 Pro, Android 11上的 [S1Next-鹅版](https://github.com/ykrank/S1-Next/releases) v2.5.2



*****

####  liangyi345  
##### 82#       发表于 2021-11-7 09:16

[https://www.bilibili.com/video/BV1pf4y1J7bo](https://www.bilibili.com/video/BV1pf4y1J7bo)

有一种bug是宇宙高能射线正好打穿某个寄存器的晶格导致的0,1变化



*****

####  千羽宸  
##### 83#       发表于 2021-11-7 09:41

在一定条件下可以复现的就算bug



*****

####  karloku  
##### 84#       发表于 2021-11-7 09:45

提问这件事本身也是有门槛的

*****

####  初音kagami  
##### 85#       发表于 2021-11-7 09:53

<blockquote><a href="httphttps://bbs.saraba1st.com/2b/forum.php?mod=redirect&amp;goto=findpost&amp;pid=53439853&amp;ptid=2036111" target="_blank">二饼 发表于 2021-11-6 17:38</a>
就是没有bug的程序</blockquote>
可乐倒着开罐会导致液体全洒出来
是可乐瓶的设计bug吗
程序上有很多类似的问题



*****

####  papermoon868  
##### 86#       发表于 2021-11-7 11:00

程序不会出现bug，出现bug是代码本身有问题

—— 来自 sony XQ-AT52, Android 10上的 [S1Next-鹅版](https://github.com/ykrank/S1-Next/releases) v2.5.2



*****

####  sakuranosibe  
##### 87#       发表于 2021-11-7 12:02

这根本不是bug 这是仕様(/ω＼)



*****

####  九八式衍射弹  
##### 88#       发表于 2021-11-7 12:10

<blockquote>二饼 发表于 2021-11-6 17:40
这样吧，一个程序能连续执行1万年不出现任何问题。</blockquote>
算法本身可以执行一万年不出错，但是硬件可以吗？算一万年1+1都有可能出错



*****

####  Guildenstern  
##### 89#       发表于 2021-11-7 12:30

<blockquote><a href="httphttps://bbs.saraba1st.com/2b/forum.php?mod=redirect&amp;goto=findpost&amp;pid=53440011&amp;ptid=2036111" target="_blank">Ik4ruga 发表于 2021-11-6 17:49</a>

dna都做不到复制遗传不出差错

人造的东西，根据历史来看，我们还不能验证任何人造程序能运行1w年不出差错 ...</blockquote>
我们可以验证程序的逻辑是完美的。运行错误是另一回事。赶上太阳周期离子风暴影响了硬件运行，这个程序员也没办法。



*****

####  Evilgurren  
##### 90#       发表于 2021-11-7 13:39

这个世界就是构筑于不确定性上的，程序代码最终也是要依托真实的硬件来运行，这部分硬件产生的问题导致的软件bug肯定是无法避免的

至于代码逻辑上的bug如果无法证伪，那肯定也没法保证没bug



*****

####  堕落骨头  
##### 91#       发表于 2021-11-7 14:39

计算机原理，请



*****

####  Redis  
##### 92#       发表于 2021-11-7 15:56

连cpu都会出错

所以这是个很简单的问题，对，必然的，所有的程序如果运行时间足够长，必定一定会出bug，就算是简单到只会算1+1的程序也是这样



*****

####  Redis  
##### 93#       发表于 2021-11-7 16:10

对于软件复杂度的研究其实还处于非常初级的程度，初级到我们并不能量化的定义复杂度到底是什么，虽然这玩意儿后面跟了一个“度”字

当然也有一些研究试图解决这个问题，思路很简单，穷举就完事儿了。你可以搜一下formal verification和model checking，经常被用于一些正确性极端重要的软件测试中。但是这也只是保证理论上程序在有限的输出下没有问题，并不涉及硬件本身的错误

实际上硬件错误在现代动辄几十万上百万核的数据中心是大概率事件，是每时每刻都在发生的，Google最近就有一个关于这些又问题的硬件的论文，感兴趣的可以看看：[https://sigops.org/s/conferences ... -s01-hochschild.pdf](https://sigops.org/s/conferences/hotos/2021/papers/hotos21-s01-hochschild.pdf)



*****

####  彼岸渡鸦  
##### 94#       发表于 2021-11-8 11:19

<blockquote><a href="httphttps://bbs.saraba1st.com/2b/forum.php?mod=redirect&amp;goto=findpost&amp;pid=53440005&amp;ptid=2036111" target="_blank">tiro_finale 发表于 2021-11-6 17:48</a>

确实感觉楼主没明白bug是什么，bug又不是什么神秘的自然现象，就是一些设计者没考虑到的情况以及单纯搞错了 ...</blockquote>
正解，就是代码缺陷而已，部分情况下会触发的意料之外的输出，没什么神秘的

*****

####  daniaoren  
##### 95#       发表于 2021-11-8 11:20

没有bug，全是特性。



*****

####  囚徒  
##### 96#       发表于 2021-11-8 15:41

<blockquote><a href="httphttps://bbs.saraba1st.com/2b/forum.php?mod=redirect&amp;goto=findpost&amp;pid=53439784&amp;ptid=2036111" target="_blank">二饼 发表于 2021-11-6 17:30</a>
世界上不存在完美的程序，是指出现BUG是自然规律，还是说只是因为人类的力量不够强大呢？

 ...</blockquote>
首先，bug的收敛是靠测试的
因为用户行为不可预知的，现实生活中可能性是无限的.
但是测试用例一定是有限的.



*****

####  MINKE  
##### 97#       发表于 2021-11-8 16:30

哪怕真写出了完美到不能再完美的程序，一只活bug来把电路烧了算不算程序出bug了呢<img src="https://static.saraba1st.com/image/smiley/face2017/009.gif" referrerpolicy="no-referrer">



*****

####  氮气赞士  
##### 98#       发表于 2021-11-8 16:48

硬要说其实也真有随机出现的，比如bug这个词最初就是有只虫子爬电路板里面把电路烧了

或者强磁场导致数字电路在运算时部分字节从低电平跳到高电平，物理断电导致一个字节只写了一半

基本上在物理层面上碰到的问题都挺随机的，不过出现概率非常小，使得现在大家讲的bug多是指抽象层面上的逻辑或者设计错误

*****

####  zxlice  
##### 99#       发表于 2021-11-8 16:48

首先看你说的是广义还是狭义的BUG

*****

####  3Psm  
##### 100#       发表于 2021-11-8 17:07

<blockquote><a href="httphttps://bbs.saraba1st.com/2b/forum.php?mod=redirect&amp;goto=findpost&amp;pid=53440005&amp;ptid=2036111" target="_blank">tiro_finale 发表于 2021-11-6 17:48</a>

确实感觉楼主没明白bug是什么，bug又不是什么神秘的自然现象，就是一些设计者没考虑到的情况以及单纯搞错了 ...</blockquote>
bug就是编程者未考虑到的错误

参考bug的来源：一只小飞虫。这还真是自然现象XD

